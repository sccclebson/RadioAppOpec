{% extends "radio_base.html" %}
{% block title %}Recortar Áudio{% endblock %}

{% block content %}
<div class="container py-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h4 class="mb-0"><i class="bi bi-scissors"></i> Recortar Áudio</h4>
    <a href="{{ url_for('radio.selecionar_radio', radio_key=radio.key) }}" class="btn btn-outline-secondary">
      <i class="bi bi-arrow-left"></i> Voltar para lista
    </a>
  </div>

  <div class="card shadow-sm mb-4">
    <div class="card-body text-center">
      <div id="timeline" class="mb-1"></div>
      <div id="waveform" class="mb-3"></div>

      <div class="small text-muted">
        <strong>Arquivo:</strong> {{ nome_arquivo }}
      </div>
    </div>
  </div>

  <!-- Controles de recorte (inalterados) -->

</div>

<script>
  // Agora o áudio é carregado via /media/<subpath>, não mais com C:\...
  const audioPath = "{{ url_for('radio.servir_audio', subpath=subpath) }}";

  // Exemplo de uso com WaveSurfer:
  // const wavesurfer = WaveSurfer.create({ container: '#waveform', ... });
  // wavesurfer.load(audioPath);
</script>
{% endblock %}
